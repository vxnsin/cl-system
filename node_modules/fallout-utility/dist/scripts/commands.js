"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCommand = void 0;
const strings_1 = require("./strings");
/**
 * Returns the command and arguments from a string
 * @param string Parse message command from this string
 * @param prefix Check this command's prefix
 * @param separator Set arg separator
 */
function getCommand(string, prefix, separator = ' ') {
    const commandData = {
        name: undefined,
        prefix,
        args: [],
        raw: string,
        separator,
    };
    if (prefix && !(0, strings_1.startsWith)(string, prefix))
        return commandData;
    commandData.name = (prefix ? string.slice(prefix.length) : string).trim().split(/\s+/)[0];
    const args = (prefix ? string.slice(prefix.length) : string).trim().split(/\s+/).splice(1).join(' ') || '';
    commandData.args = args ? (0, strings_1.splitString)(args, true, separator) : [];
    return commandData;
}
exports.getCommand = getCommand;
